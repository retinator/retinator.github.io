<!DOCTYPE html>
<html>
    <head>
        <title>appendChild test</title>
        <script type="text/javascript">
            window.onload = function () {
                var table = document.createElement('table');
                var tbody = document.createElement('tbody');
                var nRandoms = 10;
                var nNows = 10;
                var randoms = [], nows = [];
                var tr = document.createElement('tr');
                tr.appendChild(document.createElement('td'));
                for (var i=0; i<nRandoms; ++i) {
                    randoms.push(Math.random());
                    var td = document.createElement('td');
                    td.appendChild(document.createTextNode(randoms[i]));
                    tr.appendChild(td);
                }
                table.appendChild(tr);
                for (var i=0; i<nNows; ++i) {
                    tr = document.createElement('tr');
                    now = Date.now();
                    var td = document.createElement('td');
                    td.appendChild(document.createTextNode(now));
                    tr.appendChild(td);
                    for (var j=0; j<nRandoms; ++j) {
                        td = document.createElement('td');
                        var img = document.createElement('img');
                        img.src = 'space/' + Math.floor(Math.random()*5) + '.jpg?r=' + randoms[j] + '&n=' + now;
                        img.style.maxWidth = '100%';
                        img.style.maxHeight = '100%';
                        td.appendChild(img);
                        tr.appendChild(td);
                    }
                    table.appendChild(tr);
                }
                document.body.appendChild(table);
            }
        </script>
    </head>
    <body>
    </body>
</html>
